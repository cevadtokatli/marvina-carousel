/*!
 *   Marvina carousel
 *   version: 1.0.3
 *    author: Cevad Tokatli <cevadtokatli@hotmail.com>
 *   website: http://cevadtokatli.com
 *    github: https://github.com/cevadtokatli/marvina-carousel
 *   license: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MarvinaCarousel=e()}(this,function(){"use strict";var G="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){return function(){var a=t.apply(this,arguments);return new Promise(function(s,o){return function e(t,n){try{var r=a[t](n),i=r.value}catch(t){return void o(t)}if(!r.done)return Promise.resolve(i).then(function(t){e("next",t)},function(t){e("throw",t)});s(i)}("next")})}},c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),e=t(function(t,e){t.exports=function(){function l(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,i=void 0,a=function(t,e){d[r]=t,d[r+1]=e,2===(r+=2)&&(i?i(f):x())},t="undefined"!=typeof window?window:void 0,s=t||{},o=s.MutationObserver||s.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(f,1)}}var d=new Array(1e3);function f(){for(var t=0;t<r;t+=2){var e=d[t],n=d[t+1];e(n),d[t]=void 0,d[t+1]=void 0}r=0}var v,p,m,y,x=void 0;function g(t,e){var n=this,r=new this.constructor(b);void 0===r[E]&&z(r);var i=n._state;if(i){var s=arguments[i-1];a(function(){return q(i,r,s,n._result)})}else O(n,r,t,e);return r}function w(t){if(t&&"object"===(void 0===t?"undefined":R(t))&&t.constructor===this)return t;var e=new this(b);return S(e,t),e}u?x=function(){return process.nextTick(f)}:o?(p=0,m=new o(f),y=document.createTextNode(""),m.observe(y,{characterData:!0}),x=function(){y.data=p=++p%2}):c?((v=new MessageChannel).port1.onmessage=f,x=function(){return v.port2.postMessage(0)}):x=void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(f)}:h()}catch(t){return h()}}():h();var E=Math.random().toString(36).substring(2);function b(){}var A=void 0,L=1,k=2,_={error:null};function I(t){try{return t.then}catch(t){return _.error=t,_}}function P(t,e,n){var r,i,s,o;e.constructor===t.constructor&&n===g&&e.constructor.resolve===w?(s=t,(o=e)._state===L?M(s,o._result):o._state===k?T(s,o._result):O(o,void 0,function(t){return S(s,t)},function(t){return T(s,t)})):n===_?(T(t,_.error),_.error=null):void 0===n?M(t,e):l(n)?(r=e,i=n,a(function(e){var n=!1,t=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(i,r,function(t){n||(n=!0,r!==t?S(e,t):M(e,t))},function(t){n||(n=!0,T(e,t))},e._label);!n&&t&&(n=!0,T(e,t))},t)):M(t,e)}function S(t,e){var n,r;t===e?T(t,new TypeError("You cannot resolve a promise with itself")):(r=void 0===(n=e)?"undefined":R(n),null===n||"object"!==r&&"function"!==r?M(t,e):P(t,e,I(e)))}function C(t){t._onerror&&t._onerror(t._result),j(t)}function M(t,e){t._state===A&&(t._result=e,t._state=L,0!==t._subscribers.length&&a(j,t))}function T(t,e){t._state===A&&(t._state=k,t._result=e,a(C,t))}function O(t,e,n,r){var i=t._subscribers,s=i.length;t._onerror=null,i[s]=e,i[s+L]=n,i[s+k]=r,0===s&&t._state&&a(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,s=t._result,o=0;o<e.length;o+=3)r=e[o],i=e[o+n],r?q(n,r,i,s):i(s);t._subscribers.length=0}}function q(t,e,n,r){var i=l(n),s=void 0,o=void 0,a=void 0,u=void 0;if(i){if((s=function(t,e){try{return t(e)}catch(t){return _.error=t,_}}(n,r))===_?(u=!0,o=s.error,s.error=null):a=!0,e===s)return void T(e,new TypeError("A promises callback cannot return that same promise."))}else s=r,a=!0;e._state!==A||(i&&a?S(e,s):u?T(e,o):t===L?M(e,s):t===k&&T(e,s))}var N=0;function z(t){t[E]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var W=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[E]||z(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&M(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===A&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var i=I(e);if(i===g&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===F){var s=new n(b);P(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===A&&(this._remaining--,t===k?T(r,n):this._result[e]=n),0===this._remaining&&M(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(L,e,t)},function(t){return n._settledAt(k,e,t)})},t}(),F=function(){function e(t){this[E]=N++,this._result=this._state=void 0,this._subscribers=[],b!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){S(e,t)},function(t){T(e,t)})}catch(t){T(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return F.prototype.then=g,F.all=function(t){return new W(this,t).promise},F.race=function(i){var s=this;return n(i)?new s(function(t,e){for(var n=i.length,r=0;r<n;r++)s.resolve(i[r]).then(t,e)}):new s(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=w,F.reject=function(t){var e=new this(b);return T(e,t),e},F._setScheduler=function(t){i=t},F._setAsap=function(t){a=t},F._asap=a,F.polyfill=function(){var t=void 0;if(void 0!==G)t=G;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},F.Promise=F}()}),i=Object.freeze({default:e,__moduleExports:e}),s=((i&&e||i).polyfill(),t(function(M){!function(t){var u,e=Object.prototype,l=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag",o=t.regeneratorRuntime;if(o)M.exports=o;else{(o=t.regeneratorRuntime=M.exports).wrap=x;var h="suspendedStart",d="suspendedYield",f="executing",v="completed",p={},a={};a[i]=function(){return this};var c=Object.getPrototypeOf,m=c&&c(c(S([])));m&&m!==e&&l.call(m,i)&&(a=m);var y=b.prototype=w.prototype=Object.create(a);E.prototype=y.constructor=b,b.constructor=E,b[s]=E.displayName="GeneratorFunction",o.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},o.awrap=function(t){return{__await:t}},A(L.prototype),L.prototype[r]=function(){return this},o.AsyncIterator=L,o.async=function(t,e,n,r){var i=new L(x(t,e,n,r));return o.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},A(y),y[s]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},o.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=S,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return s.type="throw",s.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=l.call(i,"catchLoc"),a=l.call(i,"finallyLoc");if(o&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),p}}}function x(t,e,n,r){var s,o,a,u,i=e&&e.prototype instanceof w?e:w,l=Object.create(i.prototype),c=new P(r||[]);return l._invoke=(s=t,o=n,a=c,u=h,function(t,e){if(u===f)throw new Error("Generator is already running");if(u===v){if("throw"===t)throw e;return C()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=k(n,a);if(r){if(r===p)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===h)throw u=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=f;var i=g(s,o,a);if("normal"===i.type){if(u=a.done?v:d,i.arg===p)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(u=v,a.method="throw",a.arg=i.arg)}}),l}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function E(){}function b(){}function A(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(u){var e;this._invoke=function(n,r){function t(){return new Promise(function(t,e){!function e(t,n,r,i){var s=g(u[t],u,n);if("throw"!==s.type){var o=s.arg,a=o.value;return a&&"object"===(void 0===a?"undefined":R(a))&&l.call(a,"__await")?Promise.resolve(a.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):Promise.resolve(a).then(function(t){o.value=t,r(o)},i)}i(s.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function k(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,k(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=g(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:u,done:!0}}}(function(){return this}()||Function("return this")())})),o=Object.freeze({default:s,__moduleExports:s}),a=o&&s||o,u=function(){return this}()||Function("return this")(),l=u.regeneratorRuntime&&0<=Object.getOwnPropertyNames(u).indexOf("regeneratorRuntime"),h=l&&u.regeneratorRuntime;u.regeneratorRuntime=void 0;var d=a;if(l)u.regeneratorRuntime=h;else try{delete u.regeneratorRuntime}catch(t){u.regeneratorRuntime=void 0}var f=Object.freeze({default:d,__moduleExports:d}),v=f&&d||f,_=function(){var t=function(){function t(){c(this,t)}return r(t,null,[{key:"getElement",value:function(t){return"string"==typeof t?document.querySelector(t):t}},{key:"addMultiEventListener",value:function(t,e,n){var r,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)r=e[i],o.push(t.addEventListener(r,n,!0));return o}},{key:"removeMultiEventListener",value:function(t,e,n){var r,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)r=e[i],o.push(t.removeEventListener(r,n,!0));return o}},{key:"addMultiEventListenerOnce",value:function(e,n,r){var i,s=this;return i=function(t){return s.removeMultiEventListener(e,n,i),r(t)},this.addMultiEventListener(e,n,i)}},{key:"setCSSPrefix",value:function(t){return"-webkit-"+t+"; -ms-"+t+"; "+t+";"}},{key:"createEvent",value:function(t){var e;return(e=document.createEvent("HTMLEvents")||document.createEvent("event")).initEvent(t,!1,!0),e}}]),t}();return t.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t.events={mousedown:t.isMobile?"touchstart":"mousedown",mouseup:t.isMobile?"touchend":"mouseup"},t.transitionEndEvents=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],t}.call(void 0),p=function(){function t(){c(this,t)}return r(t,null,[{key:"resize",value:function(){var t,e,n,r,i,s,o,a,u,l,c,h,d,f,v,p,m,y,x,g,w,E,b,A,L,k;if(!(t=(r=this.resizeIterator.apply(this,arguments)).next()).done){for(t=t.value,A=Math.ceil(this.total/t.imageCount),this.totalIndex!==A&&(this.totalIndex=A,this.index=0,this.container.setAttribute("style",_.setCSSPrefix("transform:translateX(0)"))),k=this.container.querySelectorAll(".mc-wrapper"),n=i=0,p=this.totalIndex-1;0<=p?i<=p:p<=i;n=0<=p?++i:--i){if(L=k[n])for(s=0,a=(b=L.querySelectorAll(".mc-carousel-space-element")).length;s<a;s++)E=b[s],L.removeChild(E);else(L=document.createElement("div")).classList.add("mc-wrapper"),L.style.marginRight=this.space+"px",this.container.appendChild(L);for(h=o=m=v=n*t.imageCount,y=v+t.imageCount-1;m<=y?o<=y:y<=o;h=m<=y?++o:--o)(e=this.elements[h])?L.appendChild(e):((E=document.createElement("div")).className="mc-carousel-element mc-carousel-space-element",E.style.marginRight=this.space+"px",L.appendChild(E))}if((k=this.container.querySelectorAll(".mc-wrapper")).length>this.totalIndex)for(n=c=x=this.totalIndex,g=k.length-1;x<=g?c<=g:g<=c;n=x<=g?++c:--c)this.container.removeChild(k[n]);for(d=0,u=(w=this.elements).length;d<u;d++)(e=w[d]).style.width=this.width+"px";for(f=0,l=(b=this.container.querySelectorAll(".mc-wrapper > .mc-carousel-space-element")).length;f<l;f++)(E=b[f]).style.width=this.width+"px";return r.next()}}},{key:"setCarouselAnimation",value:function(){var e,o=this,a=arguments;return new Promise((e=n(v.mark(function t(e){var n,r,i,s;return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.setCarouselAnimationIterator.apply(o,a),(n=s.next().value).reverse?n.reverseNext?(i=0,r=o.elWidth+o.space):(i=o.elWidth+o.space,r=0):(i=n.i*o.elWidth+n.i*o.space,r=o.index*o.elWidth+o.index*o.space),t.next=5,new Promise(function(e){return requestAnimationFrame(function(){var t;return n.reverse&&(t=o.container.querySelectorAll(".mc-wrapper"),o.container.insertBefore(t[o.totalIndex-1],t[0])),o.container.setAttribute("style",_.setCSSPrefix("transform:translateX(-"+i+"px)")),requestAnimationFrame(function(){return o.container.setAttribute("style",[o.applyTransition(),_.setCSSPrefix("transform:translateX(-"+r+"px)")].join("")),_.addMultiEventListenerOnce(o.container,_.transitionEndEvents,function(){return n.reverse&&o.container.appendChild(t[o.totalIndex-1]),o.container.setAttribute("style",_.setCSSPrefix("transform:translateX(-"+(o.index*o.elWidth+o.index*o.space)+"px)")),e()})})})});case 5:return s.next(),t.abrupt("return",e());case 7:case"end":return t.stop()}},t,o)})),function(t){return e.apply(this,arguments)}))}},{key:"addElement",value:function(t,e){var n;return(n=this.addElementIterator.apply(this,arguments)).next(),this.maxWidth&&(t.style.maxWidth=this.maxWidth+"px"),this.container.querySelector(".mc-wrapper").appendChild(t),n.next()}},{key:"removeElement",value:function(t){var e;return(e=this.removeElementIterator.apply(this,arguments)).next(),e.next()}}]),t}(),m=function(){function t(){c(this,t)}return r(t,null,[{key:"resize",value:function(){var t,e,n,r,i,s,o,a,u,l,c,h,d,f,v,p;if(!(t=(s=this.resizeIterator.apply(this,arguments)).next()).done){if(0<(n=(t=t.value).imageCount-1))for(e=i=0,h=n-1;0<=h?i<=h:h<=i;e=0<=h?++i:--i)this.cloneElements[e]||((r=this.elements[e].cloneNode(!0)).classList.add("mc-carousel-clone-element"),this.container.appendChild(r),this.cloneElements.push(r));if(this.cloneElements.length>n)for(e=o=d=this.cloneElements.length-1,f=n;d<=f?o<=f:f<=o;e=d<=f?++o:--o)this.container.removeChild(this.cloneElements[e]),this.cloneElements.splice(e,1);for(a=0,l=(v=this.elements).length;a<l;a++)(r=v[a]).style.width=this.width+"px";for(u=0,c=(p=this.cloneElements).length;u<c;u++)(r=p[u]).style.width=this.width+"px";return this.container.setAttribute("style",_.setCSSPrefix("transform:translateX(-"+(this.index*this.width+this.index*this.space)+"px)")),s.next()}}},{key:"setCarouselAnimation",value:function(){var e,o=this,a=arguments;return new Promise((e=n(v.mark(function t(e){var n,r,i,s;return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.setCarouselAnimationIterator.apply(o,a),(n=s.next().value).reverse?n.reverseNext?(i=0,r=o.width+o.space):(i=o.width+o.space,r=0):(i=n.i*o.width+n.i*o.space,r=o.index*o.width+o.index*o.space),t.next=5,new Promise(function(t){return requestAnimationFrame(function(){return n.reverse&&o.container.insertBefore(o.elements[o.totalIndex-1],o.elements[0]),o.container.setAttribute("style",_.setCSSPrefix("transform:translateX(-"+i+"px)")),requestAnimationFrame(function(){return o.container.setAttribute("style",[o.applyTransition(),_.setCSSPrefix("transform:translateX(-"+r+"px)")].join("")),_.addMultiEventListenerOnce(o.container,_.transitionEndEvents,function(){return n.reverse&&(0<o.cloneElements.length?o.container.insertBefore(o.elements[o.totalIndex-1],o.cloneElements[0]):o.container.appendChild(o.elements[o.totalIndex-1])),o.container.setAttribute("style",_.setCSSPrefix("transform:translateX(-"+(o.index*o.width+o.index*o.space)+"px)")),t()})})})});case 5:return s.next(),t.abrupt("return",e());case 7:case"end":return t.stop()}},t,o)})),function(t){return e.apply(this,arguments)}))}},{key:"addElement",value:function(t,e){var n;return(n=this.addElementIterator.apply(this,arguments)).next(),e<this.total?this.container.insertBefore(t,this.elements[e]):this.container.appendChild(t),this.totalIndex+=1,this.list&&this.list.add(),this.Group.removeCloneElements.call(this),n.next()}},{key:"removeElement",value:function(t){var e;return(e=this.removeElementIterator.apply(this,arguments)).next(),t<=this.index&&(this.index-=1,this.list&&(this.list.index=this.index)),this.totalIndex-=1,this.list&&this.list.remove(),this.Group.removeCloneElements.call(this),e.next()}},{key:"removeCloneElements",value:function(){var t,e,n,r;for(e=0,n=(r=this.cloneElements).length;e<n;e++)t=r[e],this.container.removeChild(t);return this.cloneElements=[]}}]),t}(),y=function(){var t=function(){function t(){c(this,t)}return r(t,null,[{key:"getElement",value:function(t){return"string"==typeof t?document.querySelector(t):t}},{key:"addMultiEventListener",value:function(t,e,n){var r,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)r=e[i],o.push(t.addEventListener(r,n,!0));return o}},{key:"removeMultiEventListener",value:function(t,e,n){var r,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)r=e[i],o.push(t.removeEventListener(r,n,!0));return o}},{key:"addMultiEventListenerOnce",value:function(e,n,r){var i,s=this;return i=function(t){return s.removeMultiEventListener(e,n,i),r(t)},this.addMultiEventListener(e,n,i)}},{key:"setCSSPrefix",value:function(t){return"-webkit-"+t+"; -ms-"+t+"; "+t+";"}},{key:"createEvent",value:function(t){var e;return(e=document.createEvent("HTMLEvents")||document.createEvent("event")).initEvent(t,!1,!0),e}}]),t}();return t.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t.events={mousedown:t.isMobile?"touchstart":"mousedown",mouseup:t.isMobile?"touchend":"mouseup"},t.transitionEndEvents=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],t}.call(void 0),x={change:y.createEvent("change"),totalIndex:y.createEvent("totalIndex"),touchStart:y.createEvent("touchStart"),touchEnd:y.createEvent("touchEnd"),play:y.createEvent("play"),stop:y.createEvent("stop"),destroy:y.createEvent("destroy")},g=function(){function e(t){c(this,e),this.carousel=t,this.start=this.start.bind(this),this.end=this.end.bind(this),this.carousel.carouselEl.addEventListener(y.events.mousedown,this.start,!0)}return r(e,[{key:"start",value:function(t){return this.carousel.processing||(this.carousel.processing=!0,this.carousel.el.dispatchEvent(x.touchStart),this.startX=t.clientX||t.pageX,this.time=(new Date).getTime(),window.addEventListener(y.events.mouseup,this.end,!0)),t.preventDefault()}},{key:"end",value:function(t){var e,n;return this.destroy(),this.carousel.el.dispatchEvent(x.touchEnd),n=(t.clientX||t.pageX)-this.startX,e=(new Date).getTime()-this.time,25<=Math.abs(n)&&e<=250?n<=0?this.carousel.nextIndex(!0):this.carousel.prevIndex(!0):this.carousel.processing=!1}},{key:"destroy",value:function(){return window.removeEventListener(y.events.mouseup,this.end,!0)}}]),e}(),w=function(){var t=function(){function s(t,e,n){var r,i;if(c(this,s),this.carousel=t,this.asList=n,this.setIndex=this.setIndex.bind(this),e)for(this.listEl=document.createElement("ul"),this.carousel.el.appendChild(this.listEl),this.listEl.addEventListener(y.events.mousedown,this.setIndex,!0),r=0,i=this.carousel.totalIndex-1;0<=i?r<=i:i<=r;0<=i?++r:--r)this.add();this.asList&&this.asList.addEventListener(y.events.mousedown,this.setIndex,!0),this.index=this.carousel.index}return r(s,[{key:"setIndex",value:function(t){var e,n;for(n=t.target;n!==this.listEl&&n!==this.asList&&n.parentNode!==this.listEl&&n.parentNode!==this.asList;)n=n.parentNode;if(n.parentNode===this.listEl||n.parentNode===this.asList)return e=Array.prototype.slice.call(n.parentNode.children).indexOf(n),this.carousel.setIndex(e)}},{key:"setActive",value:function(){var t,e;if(this.listEl&&((t=this.listEl.querySelector(".mc-active"))&&t.classList.remove("mc-active"),(e=this.listEl.querySelectorAll("li")[this.index])&&e.classList.add("mc-active")),this.asList&&((t=this.asList.querySelector(".mc-active"))&&t.classList.remove("mc-active"),e=Array.prototype.slice.call(this.asList.children)[this.index]))return e.classList.add("mc-active")}},{key:"add",value:function(){if(this.listEl)return this.listEl.appendChild(document.createElement("li"))}},{key:"remove",value:function(){if(this.listEl)return this.listEl.removeChild(this.listEl.lastChild)}},{key:"destroy",value:function(){if(this.asList)return this.asList.removeEventListener(y.events.mousedown,this.setIndex,!0)}}]),s}();return Object.defineProperties(t.prototype,{index:{get:function(){return this._index},set:function(t){return this._index=t,this.setActive()}}}),t}.call(void 0),E=function(){function s(t,e,n){var r,i;c(this,s),this.carousel=t,this.asArrows=n,this.prev=this.carousel.prev.bind(this.carousel),this.next=this.carousel.next.bind(this.carousel),this.arrowEls={},e&&((i=this.arrowEls.prevArrow=document.createElement("div")).className="mc-arrow mc-prev-arrow",i.innerHTML='<svg width="50" height="50" viewBox="0 0 1792 1792"><path d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"/></svg>',this.carousel.el.appendChild(i),i.addEventListener(y.events.mousedown,this.prev,!0),(r=this.arrowEls.nextArrow=document.createElement("div")).className="mc-arrow mc-next-arrow",r.innerHTML='<svg width="50" height="50" viewBox="0 0 1792 1792"><path d="M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"/></svg>',this.carousel.el.appendChild(r),r.addEventListener(y.events.mousedown,this.next,!0)),this.asArrows.prevArrow&&this.asArrows.prevArrow.addEventListener(y.events.mousedown,this.prev,!0),this.asArrows.nextArrow&&this.asArrows.nextArrow.addEventListener(y.events.mousedown,this.next,!0)}return r(s,[{key:"destroy",value:function(){if(this.asArrows.prevArrow&&this.asArrows.prevArrow.removeEventListener(y.events.mousedown,this.prev,!0),this.asArrows.nextArrow)return this.asArrows.nextArrow.removeEventListener(y.events.mousedown,this.next,!0)}}]),s}(),b={timing:"ease",duration:800,group:!0,minImage:1,maxImage:1,space:0,touchMove:!0,list:!0,arrows:!0,autoPlay:!1,autoPlaySpeed:5e3};return function(){function l(){var t,e,n,r,i,s,o,a,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:b;if(c(this,l),this.extractAttributes(u),!(this.el=y.getElement(u.el)))throw new Error("Element could not be found");if(this.el.classList.add("mc"),this.Group=this.group?p:m,this.resize=this.Group.resize.bind(this),this.setCarouselAnimation=this.Group.setCarouselAnimation.bind(this),this.addElement=this.Group.addElement.bind(this),this.removeElement=this.Group.removeElement.bind(this),this.carouselEl=document.createElement("div"),this.carouselEl.classList.add("mc-carousel"),this.carouselEl.innerHTML='<div class="mc-container"></div>',(t=this.el.childNodes[0])?this.el.insertBefore(this.carouselEl,t):this.el.appendChild(this.carouselEl),this.container=this.carouselEl.querySelector("div"),n=this.el.querySelectorAll(".mc-carousel-element"),this.elements=[],this.group)for((a=document.createElement("div")).classList.add("mc-wrapper"),a.style.marginRight=this.space+"px",this.container.appendChild(a),r=0,s=n.length;r<s;r++)(e=n[r]).style.marginRight=this.space+"px",a.appendChild(e),this.elements.push(e);else{for(this.cloneElements=[],i=0,o=n.length;i<o;i++)(e=n[i]).style.marginRight=this.space+"px",this.container.appendChild(e),this.elements.push(e);this.totalIndex=this.elements.length,this.index=0}this.total=this.elements.length,this.resize(),u.touchMove&&(this.touchMove=new g(this)),(u.list||u.asList)&&(this.list=new w(this,u.list,u.asList)),(u.arrows||u.asPrevArrow||u.asNextArrow)&&(this.arrows=new E(this,u.arrows,{prevArrow:u.asPrevArrow,nextArrow:u.asNextArrow})),this.autoPlay&&(this.autoPlayStatus=!0,this.autoPlayContainer=document.createElement("div"),this.autoPlayContainer.className="mc-autoplay-container mc-active",this.autoPlayContainer.innerHTML=['<svg class="mc-play" viewBox="0 0 48 48"> \t\t\t\t\t\t<path d="M16 10v28l22-14z"></path> \t\t\t\t\t</svg>','<svg class="mc-stop" viewBox="0 0 512 512"> \t\t\t\t\t\t<rect height="320" width="60" x="153" y="96"></rect><rect height="320" width="60" x="299" y="96"></rect> \t\t\t\t\t</svg>'].join(""),this.autoPlayContainer.addEventListener(y.events.mousedown,this.toggle.bind(this),!0),this.setAutoPlayInterval(!1),this.el.appendChild(this.autoPlayContainer)),window.addEventListener("resize",this.resize,!0),this.resize()}return r(l,[{key:"extractAttributes",value:function(t){var e,n,r,i,s,o;for(r in b)o=b[r],null==t[r]&&(t[r]=o);for(s=[],n=0,i=(e=["timing","duration","group","minImage","maxImage","minWidth","maxWidth","height","space","autoPlay","autoPlaySpeed"]).length;n<i;n++)null!=t[r=e[n]]?s.push(this[r]=t[r]):s.push(void 0);return s}},{key:"addElementIterator",value:v.mark(function t(e,n){return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.classList.add("mc-carousel-element"),e.style.marginRight=this.space+"px",void(t.next=4);case 4:return this.total+=1,this.elements.splice(n,0,e),t.abrupt("return",this.resize(!0));case 7:case"end":return t.stop()}},t,this)})},{key:"add",value:function(t,e){var n=this,r=arguments;if((t=y.getElement(t))&&-1<e&&e<=this.total)return this.processing?setTimeout(function(){return n.add.apply(n,Array.prototype.slice.call(r).concat([500]))}):this.addElement(t,e)}},{key:"addFirst",value:function(t){return this.add(t,0)}},{key:"addLast",value:function(t){return this.add(t,this.total)}},{key:"removeElementIterator",value:v.mark(function t(e){return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.elements[e].parentNode.removeChild(this.elements[e]),void(t.next=3);case 3:return this.total-=1,this.elements.splice(e,1),t.abrupt("return",this.resize(!0));case 6:case"end":return t.stop()}},t,this)})},{key:"remove",value:function(t){var e=this,n=arguments;if(-1<t&&t<this.total&&2<this.total)return this.processing?setTimeout(function(){return e.remove.apply(e,Array.prototype.slice.call(n).concat([500]))}):this.removeElement(t)}},{key:"removeFirst",value:function(){return this.remove(0)}},{key:"removeLast",value:function(){return this.remove(this.total-1)}},{key:"prev",value:function(){var t=this;return new Promise(function(e){return t.processing?e(!1):t.prevIndex().then(function(t){return e(t)})})}},{key:"prevIndex",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t){var e;return(!n.processing||r)&&1<n.totalIndex?(e=0<=n.index-1?n.index-1:n.totalIndex-1,n.setCarouselAnimation(e,!1,!1).then(function(){return t(!0)})):t(!1)})}},{key:"next",value:function(){var t=this;return new Promise(function(e){return t.processing?e(!1):t.nextIndex().then(function(t){return e(t)})})}},{key:"nextIndex",value:function(){var n=this,r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t){var e;return(!n.processing||r)&&1<n.totalIndex?(e=n.index+1<n.totalIndex?n.index+1:0,n.setCarouselAnimation(e,!0,i).then(function(){return t(!0)})):t(!1)})}},{key:"play",value:function(){if(!this.autoPlayStatus)return this.autoPlayStatus=!0,this.autoPlayContainer.classList.add("mc-active"),this.setAutoPlayInterval(),this.el.dispatchEvent(x.play)}},{key:"stop",value:function(){if(this.autoPlayStatus)return this.autoPlayStatus=!1,this.autoPlayContainer.classList.remove("mc-active"),clearInterval(this.autoPlayInterval),this.el.dispatchEvent(x.stop)}},{key:"toggle",value:function(){return this.autoPlayStatus?this.stop():this.play()}},{key:"destroy",value:function(){return this.touchMove&&this.touchMove.destroy(),this.list&&this.list.destroy(),this.arrows&&this.arrows.destroy(),this.autoPlay&&this.autoPlayStatus&&clearInterval(this.autoPlayInterval),this.el.innerHTML="",this.el.classList.remove("mc"),this.el.dispatchEvent(x.destroy)}},{key:"setCarouselAnimationIterator",value:v.mark(function t(e,n){var r,i,s,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.processing=!0,r=this.index,this.index=e,this.list&&(this.list.index=e),n&&0===this.index&&r+1===this.totalIndex||!n&&this.index+1===this.totalIndex&&0===r?(i=!0,s=0===this.index):i=!1,t.next=7,{i:r,reverse:i,reverseNext:s};case 7:return this.processing=!1,this.el.dispatchEvent(x.change),this.autoPlay&&this.autoPlayStatus&&!o&&(clearInterval(this.autoPlayInterval),this.setAutoPlayInterval(!1)),void(t.next=12);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}},t,this)})},{key:"applyTransition",value:function(){return["-webkit-transition:-webkit-transform "+this.duration+"ms 0s "+this.timing+";","-ms-transition:-ms-transform "+this.duration+"ms 0s "+this.timing+";","transition:transform "+this.duration+"ms 0s "+this.timing+";"].join("")}},{key:"resizeIterator",value:v.mark(function t(){var e,n,r,i,s,o,a,u,l=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.processing){t.next=27;break}if((r=this.carouselEl.offsetWidth)!==this.elWidth||!0===l){t.next=4;break}return t.abrupt("return");case 4:this.elWidth=r,this.processing=!0,i=this.maxImage;case 7:if(this.width=(this.elWidth-this.space*(i-1))/i,!(this.minWidth&&this.width<this.minWidth)){t.next=13;break}i-=1,t.next=14;break;case 13:return t.abrupt("break",16);case 14:t.next=7;break;case 16:return this.minImage>i&&(i=this.minImage),this.width=(this.elWidth-this.space*(i-1))/i,this.maxWidth&&this.width>this.maxWidth&&(this.width=this.maxWidth),this.height&&(n=this.width*this.height/100,this.carouselEl.style.height=n+"px",n!==this.elHeight&&(this.elHeight=n,this.resize())),u=this.totalIndex,t.next=23,{imageCount:i};case 23:if(this.totalIndex!==u){if(this.list){for(o=this.totalIndex>u?this.list.add.bind(this.list):this.list.remove.bind(this.list),e=Math.abs(this.totalIndex-u),s=1,a=e;1<=a?s<=a:a<=s;1<=a?++s:--s)o();this.list.index=this.index}this.el.dispatchEvent(x.totalIndex)}return t.abrupt("return",this.processing=!1);case 27:return this.processingTimeout&&clearTimeout(this.processingTimeout),t.abrupt("return",this.processingTimeout=setTimeout(this.resize,500));case 29:case"end":return t.stop()}},t,this)})},{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(n){var r=this;return new Promise(function(t){var e;return r.processing?t(!1):-1<n&&n<r.totalIndex&&n!==r.index?(e=n>r.index,r.setCarouselAnimation(n,e).then(function(){return t(!0)})):t(!1)})}},{key:"getTotal",value:function(){return this.total}},{key:"getTotalIndex",value:function(){return this.totalIndex}},{key:"getTiming",value:function(){return this.timing}},{key:"setTiming",value:function(t){this.timing=t}},{key:"getDuration",value:function(){return this.duration}},{key:"setDuration",value:function(t){this.duration=t}},{key:"getAutoPlaySpeed",value:function(){return this.autoPlaySpeed}},{key:"setAutoPlaySpeed",value:function(t){this.autoPlaySpeed=t}},{key:"setAutoPlayInterval",value:function(){var t,e=this;return t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this.autoPlaySpeed+this.duration:this.autoPlaySpeed,this.autoPlayInterval=setInterval(function(){return e.nextIndex(!1,!0)},t)}}]),l}()});